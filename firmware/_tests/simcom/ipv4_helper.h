/* 
 * File:   com_helper.h
 * Author: jtrodriguez
 *
 * Created on 24 de febrero de 2021, 8:04
 */

#ifndef COM_HELPER_H
#define	COM_HELPER_H

/* ************************************************************************** */
/* ************************************************************************** */
/* Section: Included Files                                                    */
/* ************************************************************************** */
/* ************************************************************************** */

#ifdef	__cplusplus
extern "C" {
#endif

    /* ************************************************************************** */
    /* ************************************************************************** */
    /* Section: Constants                                                         */
    /* ************************************************************************** */
    /* ************************************************************************** */
#define IPV4_INVALID_ADDR       0xFFFFFFFF
#define IPV4_ADDR_STR_MAX_SIZE  16
#define IPV4_ADDR_OCTETOS       4

    /* ************************************************************************** */
    /* ************************************************************************** */
    /* Section: Data types & Definitions                                          */
    /* ************************************************************************** */

    /* ************************************************************************** */
    typedef union {

        struct {
            uint8_t o0;
            uint8_t o1;
            uint8_t o2;
            uint8_t o3;
        };
        uint8_t sv[IPV4_ADDR_OCTETOS];
        uint32_t v;
    } t_IPV4_ADDR;

    /* ************************************************************************** */
    /* ************************************************************************** */
    /* Section: Interface Functions                                               */
    /* ************************************************************************** */
    /* ************************************************************************** */
    char* iph_ip2str(t_IPV4_ADDR ip);
    uint32_t iph_ip2str_copy(t_IPV4_ADDR ip, char *s);
    t_IPV4_ADDR iph_str2ip(char *s);

#ifdef	__cplusplus
}
#endif

#endif	/* COM_HELPER_H */

